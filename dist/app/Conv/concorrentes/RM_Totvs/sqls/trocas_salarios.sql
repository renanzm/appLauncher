WITH SALARIO AS (
  SELECT CODCOLIGADA,
         CHAPA,
         DTMUDANCA,
         SALARIO,
         MOTIVO,
         ROW_NUMBER() OVER (PARTITION BY CODCOLIGADA, CHAPA, CAST(DTMUDANCA AS DATE) ORDER BY DTMUDANCA DESC) AS RN
    FROM [dbo].PFHSTSAL
)
SELECT CODCOLIGADA,
       CHAPA,
       DTMUDANCA,
       SALARIO,
       MOTIVO
  FROM SALARIO
 WHERE RN = 1
 ORDER BY 1,2,3,4;