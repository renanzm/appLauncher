SELECT emp.CD_EMPRESA AS CODI_EMP,
	   emp.ID_EMPRESA,
       hor.HR_ENTRADA,
       hor.HR_SAIDAINTERVALO,
       hor.HR_ENTRADAINTERVALO,
       hor.HR_SAIDA,
       (SELECT hor_det.CD_HORARIOTRABALHOESOCIAL
          FROM CAD_QUADROHORARIOEMPRESADETALHE hor_det
         WHERE hor_det.ID_EMPRESA = hor_emp.ID_EMPRESA
           AND hor_det.CD_QUADROHORARIO = hor.CD_QUADROHORARIO
           AND hor_det.ID_DIASEMANA = hor.ID_DIASEMANA) AS CODIGO_ESOCIAL
  FROM CAD_QUADROHORARIOEMPRESA hor_emp
  LEFT OUTER JOIN CAD_QUADROHORARIODETALHE hor
    ON hor.CD_QUADROHORARIO = hor_emp.CD_QUADROHORARIO
  LEFT JOIN CAD_EMPRESACONFIG emp
    ON hor_emp.ID_EMPRESA = emp.ID_EMPRESA
 ORDER BY 1,2